<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free FiveM Scripts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-gradient: linear-gradient(135deg, #232526 0%, #414345 100%);
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
        }

        [dir="rtl"] {
            --text-primary: #1f2937;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .discord-link {
            color: #5865f2;
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .discord-link:hover {
            transform: scale(1.2);
        }

        .lang-switcher {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-switcher:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .login-btn, .logout-btn {
            background: var(--secondary-gradient);
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .login-btn:hover, .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: white;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .main-content {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-section {
            text-align: center;
            padding: 4rem 0;
            color: white;
        }

        .hero-title {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .scripts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .script-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease;
        }

        .script-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .script-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .script-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.5rem;
        }

        .script-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .download-btn {
            width: 100%;
            background: var(--secondary-gradient);
            border: none;
            padding: 0.8rem;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--dark-gradient);
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            color: white;
            animation: modalFadeIn 0.3s ease;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-input {
            padding: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .google-login-btn {
            background: #4285f4;
            color: white;
            border: none;
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .google-login-btn:hover {
            background: #357ae8;
        }

        .download-modal .modal-content {
            max-width: 600px;
        }

        .script-details {
            margin-bottom: 2rem;
        }

        .countdown {
            text-align: center;
            font-size: 2rem;
            margin: 2rem 0;
            color: var(--warning-color);
        }

        .captcha-container {
            display: none;
            text-align: center;
            margin: 2rem 0;
        }

        .captcha-checkbox {
            transform: scale(1.5);
            margin: 1rem;
        }

        .final-download {
            display: none;
            text-align: center;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .footer {
            margin-top: 4rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            padding: 2rem;
        }

        .privacy-link {
            color: #3b82f6;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .privacy-link:hover {
            text-decoration: underline;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        /* RTL Styles */
        [dir="rtl"] .nav-content {
            flex-direction: row-reverse;
        }

        [dir="rtl"] .nav-links {
            flex-direction: row-reverse;
        }

        [dir="rtl"] .user-profile {
            flex-direction: row-reverse;
        }

        @media (max-width: 768px) {
            .nav-content {
                flex-direction: column;
                gap: 1rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .scripts-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <a href="#" class="logo" data-en="Free FiveM Scripts" data-ar="سكربتات فايف ام مجانية">Free FiveM Scripts</a>
            
            <div class="nav-links">
                <a href="https://discord.gg/uDk5kw6KQe" class="discord-link" target="_blank">
                    <i class="fab fa-discord"></i>
                </a>
                
                <button class="lang-switcher" onclick="toggleLanguage()">
                    <span class="flag">🇺🇸</span>
                    <span class="lang-text" data-en="EN" data-ar="AR">EN</span>
                </button>
            </div>

            <div class="user-menu">
                <div id="loginSection">
                    <button class="login-btn" onclick="openLoginModal()" data-en="Login" data-ar="تسجيل الدخول">Login</button>
                </div>
                <div id="userSection" style="display: none;">
                    <div class="user-profile">
                        <img id="userAvatar" class="user-avatar" src="" alt="User Avatar">
                        <span id="userName"></span>
                        <button class="logout-btn" onclick="logout()" data-en="Logout" data-ar="تسجيل الخروج">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <section class="hero-section">
            <h1 class="hero-title" data-en="Free FiveM Scripts Collection" data-ar="مجموعة سكربتات فايف ام مجانية">Free FiveM Scripts Collection</h1>
            <p class="hero-subtitle" data-en="Download high-quality FiveM scripts for free. No registration required!" data-ar="حمل سكربتات فايف ام عالية الجودة مجاناً. لا يتطلب تسجيل!">Download high-quality FiveM scripts for free. No registration required!</p>
        </section>

        <section class="scripts-grid" id="scriptsGrid">
            <!-- Scripts will be loaded here -->
        </section>
    </main>

    <footer class="footer">
        <a href="#" class="privacy-link" onclick="openPrivacyModal()" data-en="Privacy Policy" data-ar="سياسة الخصوصية">Privacy Policy</a>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('loginModal')">&times;</button>
            <h2 data-en="Login to Your Account" data-ar="تسجيل الدخول لحسابك">Login to Your Account</h2>
            
            <div class="login-form">
                <button class="google-login-btn" onclick="loginWithGoogle()">
                    <i class="fab fa-google"></i>
                    <span data-en="Continue with Google" data-ar="متابعة مع جوجل">Continue with Google</span>
                </button>
                
                <div style="text-align: center; margin: 1rem 0; color: rgba(255,255,255,0.7);" data-en="Or" data-ar="أو">Or</div>
                
                <div class="form-group">
                    <label data-en="Email" data-ar="البريد الإلكتروني">Email</label>
                    <input type="email" class="form-input" id="loginEmail" placeholder="your@email.com">
                </div>
                
                <div class="form-group">
                    <label data-en="Password" data-ar="كلمة المرور">Password</label>
                    <input type="password" class="form-input" id="loginPassword" data-placeholder-en="Enter your password" data-placeholder-ar="ادخل كلمة المرور" placeholder="Enter your password">
                </div>
                
                <button class="login-btn" onclick="loginWithEmail()" data-en="Login" data-ar="تسجيل الدخول">Login</button>
                
                <div style="text-align: center; margin-top: 1rem;">
                    <span style="color: rgba(255,255,255,0.7);" data-en="Don't have an account?" data-ar="ليس لديك حساب؟">Don't have an account?</span>
                    <a href="#" onclick="showSignup()" style="color: #3b82f6; margin-left: 0.5rem;" data-en="Sign up" data-ar="إنشاء حساب">Sign up</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Download Modal -->
    <div id="downloadModal" class="modal download-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('downloadModal')">&times;</button>
            <div class="script-details">
                <h2 id="modalScriptTitle"></h2>
                <p id="modalScriptDescription" data-en="This is a high-quality FiveM script that includes all necessary files and documentation. Perfect for enhancing your FiveM server experience." data-ar="هذا سكربت فايف ام عالي الجودة يتضمن جميع الملفات والتوثيق المطلوب. مثالي لتحسين تجربة خادم فايف ام الخاص بك.">This is a high-quality FiveM script that includes all necessary files and documentation. Perfect for enhancing your FiveM server experience.</p>
            </div>
            
            <div id="countdownSection">
                <div class="countdown" id="countdown">60</div>
                <p style="text-align: center; color: rgba(255,255,255,0.7);" data-en="Please wait before downloading..." data-ar="يرجى الانتظار قبل التحميل...">Please wait before downloading...</p>
            </div>
            
            <div class="captcha-container" id="captchaSection">
                <h3 data-en="Verify you're not a robot" data-ar="تحقق من أنك لست روبوت">Verify you're not a robot</h3>
                <label style="display: flex; align-items: center; justify-content: center; gap: 1rem; margin: 1rem 0;">
                    <input type="checkbox" class="captcha-checkbox" id="robotCheck">
                    <span data-en="I'm not a robot" data-ar="لست روبوت">I'm not a robot</span>
                </label>
            </div>
            
            <div class="final-download" id="finalDownloadSection">
                <button class="download-btn" onclick="finalDownload()" data-en="Download Now" data-ar="تحميل الآن">Download Now</button>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 80vh; overflow-y: auto;">
            <button class="close-modal" onclick="closeModal('privacyModal')">&times;</button>
            <h2 data-en="Privacy Policy" data-ar="سياسة الخصوصية">Privacy Policy</h2>
            <div style="text-align: left; line-height: 1.6; margin-top: 1rem;">
                <div class="en-content">
                    <h3>Information Collection and Use</h3>
                    <p>We collect information you provide directly to us, such as when you create an account, use our services, or contact us. This may include your name, email address, and other contact information.</p>
                    
                    <h3>Content and Scripts</h3>
                    <p>All scripts and content provided on this website are for educational and entertainment purposes only. Users are responsible for ensuring compliance with all applicable laws and regulations in their jurisdiction. We do not guarantee the functionality, security, or legality of any scripts provided.</p>
                    
                    <h3>Third-Party Services</h3>
                    <p>We use third-party services including Google Analytics, Firebase Authentication, and advertising networks. These services may collect information about your use of our website.</p>
                    
                    <h3>Disclaimer</h3>
                    <p>The website owner is not responsible for any damages, losses, or legal issues arising from the use of scripts or content provided on this website. Users download and use content at their own risk.</p>
                    
                    <h3>Data Security</h3>
                    <p>We implement appropriate security measures to protect your personal information. However, no method of transmission over the Internet is 100% secure.</p>
                    
                    <h3>Changes to This Policy</h3>
                    <p>We may update this privacy policy from time to time. We will notify you of any changes by posting the new privacy policy on this page.</p>
                </div>
                
                <div class="ar-content" style="direction: rtl; display: none;">
                    <h3>جمع المعلومات واستخدامها</h3>
                    <p>نحن نجمع المعلومات التي تقدمها لنا مباشرة، مثل عندما تنشئ حساباً أو تستخدم خدماتنا أو تتصل بنا. قد يشمل ذلك اسمك وعنوان بريدك الإلكتروني ومعلومات الاتصال الأخرى.</p>
                    
                    <h3>المحتوى والسكربتات</h3>
                    <p>جميع السكربتات والمحتوى المقدم في هذا الموقع مخصص للأغراض التعليمية والترفيهية فقط. المستخدمون مسؤولون عن ضمان الامتثال لجميع القوانين واللوائح المطبقة في ولايتهم القضائية. نحن لا نضمن وظائف أو أمان أو قانونية أي سكربتات مقدمة.</p>
                    
                    <h3>خدمات الطرف الثالث</h3>
                    <p>نحن نستخدم خدمات الطرف الثالث بما في ذلك Google Analytics وFirebase Authentication وشبكات الإعلانات. قد تجمع هذه الخدمات معلومات حول استخدامك لموقعنا.</p>
                    
                    <h3>إخلاء المسؤولية</h3>
                    <p>مالك الموقع غير مسؤول عن أي أضرار أو خسائر أو قضايا قانونية تنشأ من استخدام السكربتات أو المحتوى المقدم في هذا الموقع. المستخدمون يحملون ويستخدمون المحتوى على مسؤوليتهم الخاصة.</p>
                    
                    <h3>أمان البيانات</h3>
                    <p>نحن نطبق التدابير الأمنية المناسبة لحماية معلوماتك الشخصية. ومع ذلك، لا توجد طريقة نقل عبر الإنترنت آمنة بنسبة 100%.</p>
                    
                    <h3>التغييرات على هذه السياسة</h3>
                    <p>قد نقوم بتحديث سياسة الخصوصية هذه من وقت لآخر. سنخطرك بأي تغييرات عن طريق نشر سياسة الخصوصية الجديدة على هذه الصفحة.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendEmailVerification, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCQ2khhLVXys2Rln0dAZ61_b_CYDaYKpxU",
            authDomain: "freefivemscript.firebaseapp.com",
            projectId: "freefivemscript",
            storageBucket: "freefivemscript.firebasestorage.app",
            messagingSenderId: "581459763818",
            appId: "1:581459763818:web:c37684bea59b88b9e76013",
            measurementId: "G-672WRZZYKK"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const analytics = getAnalytics(app);
        const provider = new GoogleAuthProvider();

        // Global variables
        window.auth = auth;
        window.signInWithPopup = signInWithPopup;
        window.GoogleAuthProvider = GoogleAuthProvider;
        window.provider = provider;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.sendEmailVerification = sendEmailVerification;
        window.signOut = signOut;

        // Auth state observer
        onAuthStateChanged(auth, (user) => {
            if (user) {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('userSection').style.display = 'block';
                document.getElementById('userName').textContent = user.displayName || user.email;
                document.getElementById('userAvatar').src = user.photoURL || 'https://via.placeholder.com/40';
            } else {
                document.getElementById('loginSection').style.display = 'block';
                document.getElementById('userSection').style.display = 'none';
            }
        });
    </script>

    <script>
        // Sample scripts data
        const scriptsData = [
            {
                id: 1,
                title: "Advanced Car Dealer",
                image: "https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=400&h=300&fit=crop",
                date: "2024-01-15",
                description: "Complete car dealership system with financing options"
            },
            {
                id: 2,
                title: "Police MDT System",
                image: "https://images.unsplash.com/photo-1593642532842-98d0fd5ebc1a?w=400&h=300&fit=crop",
                date: "2024-01-20",
                description: "Professional police mobile data terminal"
            },
            {
                id: 3,
                title: "Banking System Pro",
                image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop",
                date: "2024-01-25",
                description: "Complete banking system with ATMs and loans"
            },
            {
                id: 4,
                title: "Hospital Management",
                image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400&h=300&fit=crop",
                date: "2024-02-01",
                description: "Advanced hospital and EMS system"
            },
            {
                id: 5,
                title: "Real Estate Agency",
                image: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",
                date: "2024-02-05",
                description: "Property buying and selling system"
            },
            {
                id: 6,
                title: "Racing Circuit",
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop",
                date: "2024-02-10",
                description: "Street racing and circuit racing system"
            }
        ];

        let currentLanguage = 'en';
        let currentScript = null;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadScripts();
            updateLanguage();
        });

        function loadScripts() {
            const grid = document.getElementById('scriptsGrid');
            grid.innerHTML = '';

            scriptsData.forEach(script => {
                const card = document.createElement('div');
                card.className = 'script-card';
                card.innerHTML = `
                    <img src="${script.image}" alt="${script.title}" class="script-image">
                    <h3 class="script-title">${script.title}</h3>
                    <p class="script-date">Released: ${script.date}</p>
                    <button class="download-btn" onclick="startDownload(${script.id})" data-en="Download" data-ar="تحميل">Download</button>
                `;
                grid.appendChild(card);
            });

            updateLanguage();
        }

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
            document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = currentLanguage;
            
            const flag = document.querySelector('.flag');
            const langText = document.querySelector('.lang-text');
            
            if (currentLanguage === 'ar') {
                flag.textContent = '🇸🇦';
                langText.textContent = 'AR';
            } else {
                flag.textContent = '🇺🇸';
                langText.textContent = 'EN';
            }
            
            updateLanguage();
        }

        function updateLanguage() {
            const elements = document.querySelectorAll('[data-en][data-ar]');
            elements.forEach(element => {
                if (currentLanguage === 'ar') {
                    element.textContent = element.getAttribute('data-ar');
                } else {
                    element.textContent = element.getAttribute('data-en');
                }
            });

            // Update placeholders
            const inputs = document.querySelectorAll('[data-placeholder-en][data-placeholder-ar]');
            inputs.forEach(input => {
                if (currentLanguage === 'ar') {
                    input.placeholder = input.getAttribute('data-placeholder-ar');
                } else {
                    input.placeholder = input.getAttribute('data-placeholder-en');
                }
            });

            // Update privacy policy content
            const enContent = document.querySelector('.en-content');
            const arContent = document.querySelector('.ar-content');
            if (currentLanguage === 'ar') {
                enContent.style.display = 'none';
                arContent.style.display = 'block';
            } else {
                enContent.style.display = 'block';
                arContent.style.display = 'none';
            }
        }

        // Modal functions
        function openLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function openPrivacyModal() {
            document.getElementById('privacyModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Authentication functions
        async function loginWithGoogle() {
            try {
                const result = await signInWithPopup(auth, provider);
                closeModal('loginModal');
                showNotification('Login successful!', 'success');
            } catch (error) {
                showNotification('Login failed: ' + error.message, 'error');
            }
        }

        async function loginWithEmail() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showNotification('Please fill in all fields', 'error');
                return;
            }

            try {
                const result = await signInWithEmailAndPassword(auth, email, password);
                closeModal('loginModal');
                showNotification('Login successful!', 'success');
            } catch (error) {
                if (error.code === 'auth/user-not-found') {
                    // Create new account
                    try {
                        const newUser = await createUserWithEmailAndPassword(auth, email, password);
                        await sendEmailVerification(newUser.user);
                        showNotification('Account created! Please check your email for verification.', 'success');
                        closeModal('loginModal');
                    } catch (signupError) {
                        showNotification('Account creation failed: ' + signupError.message, 'error');
                    }
                } else {
                    showNotification('Login failed: ' + error.message, 'error');
                }
            }
        }

        function showSignup() {
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
            showNotification('Enter your email and password to create a new account', 'info');
        }

        async function logout() {
            try {
                await signOut(auth);
                showNotification('Logged out successfully', 'success');
            } catch (error) {
                showNotification('Logout failed: ' + error.message, 'error');
            }
        }

        // Download functions
        function startDownload(scriptId) {
            currentScript = scriptsData.find(s => s.id === scriptId);
            document.getElementById('modalScriptTitle').textContent = currentScript.title;
            document.getElementById('downloadModal').style.display = 'block';
            
            // Reset modal state
            document.getElementById('countdownSection').style.display = 'block';
            document.getElementById('captchaSection').style.display = 'none';
            document.getElementById('finalDownloadSection').style.display = 'none';
            document.getElementById('robotCheck').checked = false;
            
            startCountdown();
        }

        function startCountdown() {
            let timeLeft = 60;
            const countdownElement = document.getElementById('countdown');
            
            const timer = setInterval(() => {
                timeLeft--;
                countdownElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    document.getElementById('countdownSection').style.display = 'none';
                    document.getElementById('captchaSection').style.display = 'block';
                }
            }, 1000);
        }

        // Add event listener for captcha
        document.addEventListener('DOMContentLoaded', function() {
            const robotCheck = document.getElementById('robotCheck');
            if (robotCheck) {
                robotCheck.addEventListener('change', function() {
                    if (this.checked) {
                        setTimeout(() => {
                            document.getElementById('captchaSection').style.display = 'none';
                            document.getElementById('finalDownloadSection').style.display = 'block';
                        }, 1000);
                    }
                });
            }
        });

        function finalDownload() {
            // Simulate download
            const link = document.createElement('a');
            link.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(`# ${currentScript.title}\n\nThis is a sample FiveM script file.\n\n## Installation\n1. Extract to your resources folder\n2. Add to server.cfg\n3. Restart server\n\n## Features\n- ${currentScript.description}\n- Easy installation\n- Full documentation included\n\nEnjoy your new script!`);
            link.download = `${currentScript.title.replace(/\s+/g, '_').toLowerCase()}.txt`;
            link.click();
            
            showNotification('Download started!', 'success');
            closeModal('downloadModal');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? 'var(--success-color)' : type === 'error' ? 'var(--danger-color)' : 'var(--warning-color)'};
                color: white;
                padding: 1rem 2rem;
                border-radius: 8px;
                z-index: 3000;
                animation: slideInRight 0.3s ease;
                max-width: 300px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Add animation styles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const openModal = document.querySelector('.modal[style*="block"]');
                if (openModal) {
                    openModal.style.display = 'none';
                }
            }
        });

        // Add some interactive effects
        document.addEventListener('DOMContentLoaded', function() {
            // Parallax effect for hero section
            window.addEventListener('scroll', function() {
                const scrolled = window.pageYOffset;
                const hero = document.querySelector('.hero-section');
                if (hero) {
                    hero.style.transform = `translateY(${scrolled * 0.5}px)`;
                }
            });

            // Add hover effects to script cards
            const scriptCards = document.querySelectorAll('.script-card');
            scriptCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });

        // Add loading animation
        function showLoading() {
            const loader = document.createElement('div');
            loader.id = 'loader';
            loader.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
            `;
            loader.innerHTML = `
                <div style="
                    width: 50px;
                    height: 50px;
                    border: 5px solid rgba(255,255,255,0.3);
                    border-top: 5px solid white;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                "></div>
            `;
            document.body.appendChild(loader);
        }

        function hideLoading() {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.remove();
            }
        }

        // Add spin animation
        const spinStyle = document.createElement('style');
        spinStyle.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(spinStyle);
    </script>
</body>
</html>
